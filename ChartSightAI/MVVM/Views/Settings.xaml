<?xml version="1.0" encoding="utf-8" ?>
<ContentPage
    x:Class="ChartSightAI.MVVM.Views.Settings"
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:shapes="clr-namespace:Microsoft.Maui.Controls.Shapes;assembly=Microsoft.Maui.Controls"
    Background="{StaticResource Brush.BackgroundGradient}"
    Shell.NavBarIsVisible="False">

    <AbsoluteLayout>

        <Grid
            AbsoluteLayout.LayoutBounds="0,0,1,1"
            AbsoluteLayout.LayoutFlags="All"
            RowDefinitions="Auto,*"
            RowSpacing="0">

            <!--  Top wave background (behind header + content)  -->
            <Grid Grid.Row="0" HeightRequest="240">
                <!--  Wave 1  -->
                <shapes:Path
                    Aspect="Fill"
                    Data="M0,0 L0,160 Q180,210 360,160 T720,160 L720,0 Z"
                    Fill="{StaticResource Brush.HeaderGradient}"
                    HorizontalOptions="Fill"
                    InputTransparent="True"
                    Opacity="1"
                    VerticalOptions="Fill" />

                <!--  Subtle overlay wave for depth  -->
                <shapes:Path
                    Aspect="Fill"
                    Data="M0,0 L0,175 Q180,225 360,175 T720,175 L720,0 Z"
                    Fill="White"
                    HorizontalOptions="Fill"
                    InputTransparent="True"
                    Opacity="0.12"
                    VerticalOptions="Fill" />
            </Grid>

            <!--  Header card on top of waves  -->
            <Border
                Grid.Row="0"
                Margin="24,28,24,12"
                Padding="0"
                Background="Transparent"
                StrokeThickness="0"
                ZIndex="10">
                <Grid
                    Padding="16,12"
                    ColumnDefinitions="Auto,*,Auto"
                    RowDefinitions="Auto,Auto">

                    <!--  Brand pill  -->
                    <Border
                        Grid.RowSpan="2"
                        Margin="0,0,12,0"
                        Padding="10"
                        Background="White"
                        Opacity="0.95"
                        StrokeShape="RoundRectangle 999"
                        StrokeThickness="0">
                        <!--  swap with your logo if available  -->
                        <Label
                            FontSize="20"
                            HorizontalTextAlignment="Center"
                            Text="⚙️"
                            VerticalTextAlignment="Center" />
                    </Border>

                    <!--  Title  -->
                    <Label
                        Grid.Column="1"
                        StyleClass="h2"
                        Text="Settings"
                        TextColor="{StaticResource TextDark}" />

                    <!--  Version chip  -->
                    <Border
                        Grid.Column="2"
                        Padding="12,6"
                        Background="White"
                        Opacity="0.92"
                        StrokeShape="RoundRectangle 999"
                        StrokeThickness="0">
                        <HorizontalStackLayout Spacing="6" VerticalOptions="Center">
                            <Label
                                StyleClass="caption"
                                Text="Version"
                                TextColor="{StaticResource TextLight}" />
                            <Label
                                FontAttributes="Bold"
                                Text="v1.0.0"
                                TextColor="{StaticResource TextDark}" />
                        </HorizontalStackLayout>
                    </Border>

                    <!--  Subtitle  -->
                    <Label
                        Grid.Row="1"
                        Grid.Column="1"
                        Margin="0,4,0,0"
                        StyleClass="caption"
                        Text="Personalize your experience"
                        TextColor="{StaticResource TextLight}" />
                </Grid>
            </Border>

            <!--  Content  -->
            <ScrollView
                Grid.Row="1"
                Margin="20,0,20,20"
                VerticalScrollBarVisibility="Never">
                <VerticalStackLayout MaximumWidthRequest="720" Spacing="18">

                    <!--  Profile  -->
                    <Border
                        Padding="14"
                        Background="{StaticResource Brush.CardBgGradient}"
                        Shadow="{StaticResource Sh.CardShadow}"
                        StrokeShape="RoundRectangle 20"
                        StrokeThickness="0">
                        <Grid ColumnDefinitions="Auto,*,Auto" ColumnSpacing="12">
                            <Border
                                Background="{StaticResource Secondary}"
                                HeightRequest="56"
                                StrokeShape="Ellipse"
                                StrokeThickness="0"
                                WidthRequest="56">
                                <Label
                                    FontAttributes="Bold"
                                    FontSize="20"
                                    HorizontalTextAlignment="Center"
                                    Text="JD"
                                    TextColor="{StaticResource Primary}"
                                    VerticalTextAlignment="Center" />
                            </Border>

                            <VerticalStackLayout
                                Grid.Column="1"
                                Spacing="2"
                                VerticalOptions="Center">
                                <Label
                                    StyleClass="h4"
                                    Text="Jane Doe"
                                    TextColor="{StaticResource TextDark}" />
                                <Label
                                    StyleClass="caption"
                                    Text="janedoe@email.com"
                                    TextColor="{StaticResource TextLight}" />
                            </VerticalStackLayout>

                            <Border
                                Grid.Column="2"
                                Padding="12,6"
                                Background="White"
                                Opacity="0.95"
                                StrokeShape="RoundRectangle 999"
                                StrokeThickness="0"
                                VerticalOptions="Center">
                                <HorizontalStackLayout Spacing="8" VerticalOptions="Center">
                                    <Image
                                        HeightRequest="14"
                                        Source="edit.png"
                                        WidthRequest="14" />
                                    <Label
                                        StyleClass="caption"
                                        Text="Edit"
                                        TextColor="{StaticResource TextDark}" />
                                </HorizontalStackLayout>
                            </Border>
                        </Grid>
                    </Border>

                    <!--  Appearance  -->
                    <Label StyleClass="h4" Text="Appearance" />
                    <Border
                        Padding="10"
                        Background="{StaticResource CardBg}"
                        Shadow="{StaticResource Sh.CardShadow}"
                        StrokeShape="RoundRectangle 16"
                        StrokeThickness="0">
                        <VerticalStackLayout Spacing="0">

                            <!--  Dark Mode  -->
                            <Grid
                                Padding="6,0"
                                ColumnDefinitions="Auto,*,Auto"
                                ColumnSpacing="12"
                                HeightRequest="52">
                                <Border
                                    HeightRequest="36"
                                    StyleClass="na-pill"
                                    VerticalOptions="Center"
                                    WidthRequest="36">
                                    <Label
                                        HorizontalTextAlignment="Center"
                                        Text="🌙"
                                        VerticalTextAlignment="Center" />
                                </Border>
                                <Label
                                    Grid.Column="1"
                                    Text="Dark Mode"
                                    TextColor="{StaticResource TextDark}"
                                    VerticalOptions="Center" />
                                <Switch
                                    Grid.Column="2"
                                    IsToggled="True"
                                    StyleClass="na-switch"
                                    VerticalOptions="Center" />
                            </Grid>

                            <BoxView
                                Margin="54,0,0,0"
                                HeightRequest="1"
                                Color="{StaticResource Border}" />

                            <!--  Haptics  -->
                            <Grid
                                Padding="6,0"
                                ColumnDefinitions="Auto,*,Auto"
                                ColumnSpacing="12"
                                HeightRequest="52">
                                <Border
                                    HeightRequest="36"
                                    StyleClass="na-pill"
                                    VerticalOptions="Center"
                                    WidthRequest="36">
                                    <Label
                                        HorizontalTextAlignment="Center"
                                        Text="✨"
                                        VerticalTextAlignment="Center" />
                                </Border>
                                <Label
                                    Grid.Column="1"
                                    Text="Haptics"
                                    TextColor="{StaticResource TextDark}"
                                    VerticalOptions="Center" />
                                <Switch
                                    Grid.Column="2"
                                    IsToggled="True"
                                    StyleClass="na-switch"
                                    VerticalOptions="Center" />
                            </Grid>
                        </VerticalStackLayout>
                    </Border>

                    <!--  Privacy & Data  -->
                    <Label StyleClass="h4" Text="Privacy &amp; Data" />
                    <Border
                        Padding="10"
                        Background="{StaticResource CardBg}"
                        Shadow="{StaticResource Sh.CardShadow}"
                        StrokeShape="RoundRectangle 16"
                        StrokeThickness="0">
                        <VerticalStackLayout Spacing="0">

                            <!--  Delete Local Data  -->
                            <Grid
                                Padding="6,0"
                                ColumnDefinitions="Auto,*,Auto"
                                ColumnSpacing="12"
                                HeightRequest="52">
                                <Border
                                    HeightRequest="36"
                                    StyleClass="na-pill"
                                    VerticalOptions="Center"
                                    WidthRequest="36">
                                    <Image
                                        HeightRequest="18"
                                        Source="delete.png"
                                        WidthRequest="18" />
                                </Border>
                                <Label
                                    Grid.Column="1"
                                    Text="Delete Local Data"
                                    TextColor="{StaticResource TextDark}"
                                    VerticalOptions="Center" />
                                <Image
                                    Grid.Column="2"
                                    HeightRequest="14"
                                    Source="arrow_right.png"
                                    VerticalOptions="Center"
                                    WidthRequest="14" />
                            </Grid>

                            <BoxView
                                Margin="54,0,0,0"
                                HeightRequest="1"
                                Color="{StaticResource Border}" />

                            <!--  Clear Cache  -->
                            <Grid
                                Padding="6,0"
                                ColumnDefinitions="Auto,*,Auto"
                                ColumnSpacing="12"
                                HeightRequest="52">
                                <Border
                                    HeightRequest="36"
                                    StyleClass="na-pill"
                                    VerticalOptions="Center"
                                    WidthRequest="36">
                                    <Label
                                        HorizontalTextAlignment="Center"
                                        Text="🧹"
                                        VerticalTextAlignment="Center" />
                                </Border>
                                <Label
                                    Grid.Column="1"
                                    Text="Clear Cache"
                                    TextColor="{StaticResource TextDark}"
                                    VerticalOptions="Center" />
                                <Image
                                    Grid.Column="2"
                                    HeightRequest="14"
                                    Source="arrow_right.png"
                                    VerticalOptions="Center"
                                    WidthRequest="14" />
                            </Grid>

                            <BoxView
                                Margin="54,0,0,0"
                                HeightRequest="1"
                                Color="{StaticResource Border}" />

                            <!--  Export Data  -->
                            <Grid
                                Padding="6,0"
                                ColumnDefinitions="Auto,*,Auto"
                                ColumnSpacing="12"
                                HeightRequest="52">
                                <Border
                                    HeightRequest="36"
                                    StyleClass="na-pill"
                                    VerticalOptions="Center"
                                    WidthRequest="36">
                                    <Label
                                        HorizontalTextAlignment="Center"
                                        Text="⬇️"
                                        VerticalTextAlignment="Center" />
                                </Border>
                                <Label
                                    Grid.Column="1"
                                    Text="Export Data"
                                    TextColor="{StaticResource TextDark}"
                                    VerticalOptions="Center" />
                                <Image
                                    Grid.Column="2"
                                    HeightRequest="14"
                                    Source="arrow_right.png"
                                    VerticalOptions="Center"
                                    WidthRequest="14" />
                            </Grid>
                        </VerticalStackLayout>
                    </Border>

                    <!--  Support / Info  -->
                    <Label StyleClass="h4" Text="Support / Info" />
                    <Border
                        Padding="10"
                        Background="{StaticResource CardBg}"
                        Shadow="{StaticResource Sh.CardShadow}"
                        StrokeShape="RoundRectangle 16"
                        StrokeThickness="0">
                        <VerticalStackLayout Spacing="0">

                            <!--  About App  -->
                            <Grid
                                Padding="6,0"
                                ColumnDefinitions="Auto,*,Auto"
                                ColumnSpacing="12"
                                HeightRequest="52">
                                <Border
                                    HeightRequest="36"
                                    StyleClass="na-pill"
                                    VerticalOptions="Center"
                                    WidthRequest="36">
                                    <Image
                                        HeightRequest="18"
                                        Source="info.png"
                                        WidthRequest="18" />
                                </Border>
                                <Label
                                    Grid.Column="1"
                                    Text="About App"
                                    TextColor="{StaticResource TextDark}"
                                    VerticalOptions="Center" />
                                <Label
                                    Grid.Column="2"
                                    StyleClass="caption"
                                    Text="v1.0.0"
                                    TextColor="{StaticResource TextLight}"
                                    VerticalOptions="Center" />
                            </Grid>

                            <BoxView
                                Margin="54,0,0,0"
                                HeightRequest="1"
                                Color="{StaticResource Border}" />

                            <!--  Contact / Feedback  -->
                            <Grid
                                Padding="6,0"
                                ColumnDefinitions="Auto,*,Auto"
                                ColumnSpacing="12"
                                HeightRequest="52">
                                <Border
                                    HeightRequest="36"
                                    StyleClass="na-pill"
                                    VerticalOptions="Center"
                                    WidthRequest="36">
                                    <Image
                                        HeightRequest="18"
                                        Source="chat.png"
                                        WidthRequest="18" />
                                </Border>
                                <Label
                                    Grid.Column="1"
                                    Text="Contact / Feedback"
                                    TextColor="{StaticResource TextDark}"
                                    VerticalOptions="Center" />
                                <Image
                                    Grid.Column="2"
                                    HeightRequest="14"
                                    Source="arrow_right.png"
                                    VerticalOptions="Center"
                                    WidthRequest="14" />
                            </Grid>

                            <BoxView
                                Margin="54,0,0,0"
                                HeightRequest="1"
                                Color="{StaticResource Border}" />

                            <!--  Rate App  -->
                            <Grid
                                Padding="6,0"
                                ColumnDefinitions="Auto,*,Auto"
                                ColumnSpacing="12"
                                HeightRequest="52">
                                <Border
                                    HeightRequest="36"
                                    StyleClass="na-pill"
                                    VerticalOptions="Center"
                                    WidthRequest="36">
                                    <Image
                                        HeightRequest="18"
                                        Source="star.png"
                                        WidthRequest="18" />
                                </Border>
                                <Label
                                    Grid.Column="1"
                                    Text="Rate App"
                                    TextColor="{StaticResource TextDark}"
                                    VerticalOptions="Center" />
                                <Image
                                    Grid.Column="2"
                                    HeightRequest="14"
                                    Source="arrow_right.png"
                                    VerticalOptions="Center"
                                    WidthRequest="14" />
                            </Grid>
                        </VerticalStackLayout>
                    </Border>

                    <!--  Logout  -->
                    <Button
                        CornerRadius="26"
                        HeightRequest="52"
                        StyleClass="na-cta"
                        Text="Logout" />
                </VerticalStackLayout>
            </ScrollView>
        </Grid>
    </AbsoluteLayout>
</ContentPage>
